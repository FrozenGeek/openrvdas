{% extends 'django_gui/base.html' %}

{% block content %}

<script type="text/javascript">
  // Need to define for following JS scripts. For now, count on the
  // relevant variables being set by Django.
  var WEBSOCKET_SERVER = '{{ websocket_server }}';
  var FIELD_LIST = '{{ field_list_string }}'.split(',');
</script>
<script src="/static/django_gui/widget.html.js"></script>
<script src="/static/django_gui/websocket.js"></script>

<title>Widget</title>
<h1>Widget</h1>
{# ######################################################################## #}
<body>
  {% if field_list %}
  <table id='result_table'>
    <tbody>
      <tr><td colspan=2 id='timestamp'>waiting for first data...</td>
      {% for field_name in field_list %}
      <tr>
        <td>{{ field_name }}</td>
        <td id='{{ field_name }}_value'>-</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
    Call with desired fields in comma-separated 
    list following url specification. e.g.: 
    <a href=http://localhost:8000/widget/S330Pitch,S330Roll>
      http://localhost:8000/widget/S330Pitch,S330Roll
    </a>
  {% endif %}
</body>

{% endblock content %}
